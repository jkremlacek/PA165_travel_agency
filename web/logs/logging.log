2016-12-18 15:51:39 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 15:51:39 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 15:51:39 CET 2016]; root of context hierarchy
2016-12-18 15:51:39 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 15:51:40 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 15:51:40 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 15:51:40 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 15:51:41 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 15:51:41 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 15:51:41 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 15:51:41 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 15:51:41 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 15:51:41 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 15:51:42 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 15:51:42 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 15:51:42 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 15:51:43 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 15:51:43 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 15:51:43 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 15:51:43 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 15:51:43 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 15:51:43 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 15:51:43 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 15:51:43 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 15:51:44 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 15:51:44 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 15:51:44 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 15:51:44 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 15:51:44 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 15:51:44 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 15:51:44 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 15:51:45 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 15:51:39 CET 2016]; root of context hierarchy
2016-12-18 15:51:45 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5400 ms
2016-12-18 15:51:45 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 15:51:45 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 15:51:45 CET 2016]; parent: Root WebApplicationContext
2016-12-18 15:51:45 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 15:51:45 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 53 ms
2016-12-18 15:51:53 WARN  PageNotFound:1136 - No mapping found for HTTP request with URI [/pa165/shopping] in DispatcherServlet with name 'dispatcher'
2016-12-18 15:52:16 INFO  ReservationController:56 - reservation/list, user no. =3, admin=false
2016-12-18 15:56:42 INFO  ReservationController:56 - reservation/list, user no. =3, admin=false
2016-12-18 15:56:46 INFO  ReservationController:56 - reservation/list, user no. =3, admin=false
2016-12-18 16:17:46 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 15:51:45 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:17:47 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 15:51:39 CET 2016]; root of context hierarchy
2016-12-18 16:17:47 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 16:17:47 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:17:47 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:18:32 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 16:18:32 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 16:18:32 CET 2016]; root of context hierarchy
2016-12-18 16:18:33 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 16:18:34 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 16:18:34 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:18:35 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 16:18:35 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 16:18:35 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 16:18:36 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 16:18:36 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 16:18:36 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 16:18:36 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 16:18:36 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 16:18:37 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 16:18:37 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 16:18:38 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:18:41 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:18:41 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 16:18:41 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 16:18:41 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 16:18:41 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 16:18:41 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 16:18:41 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 16:18:42 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 16:18:42 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 16:18:42 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 16:18:42 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 16:18:42 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:18:43 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:18:43 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 16:18:43 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 16:18:32 CET 2016]; root of context hierarchy
2016-12-18 16:18:43 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 10803 ms
2016-12-18 16:18:43 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 16:18:43 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:18:43 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:18:43 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:18:43 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 51 ms
2016-12-18 16:21:52 INFO  ReservationController:56 - request: GET resrvation/list
2016-12-18 16:22:04 INFO  ReservationController:92 - request: GET reservation/detail/2
2016-12-18 16:22:09 INFO  ReservationController:56 - request: GET resrvation/list
2016-12-18 16:44:41 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:18:43 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:44:41 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 16:18:32 CET 2016]; root of context hierarchy
2016-12-18 16:44:41 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 16:44:41 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:44:41 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:45:05 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 16:45:05 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 16:45:05 CET 2016]; root of context hierarchy
2016-12-18 16:45:05 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 16:45:06 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 16:45:06 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:45:06 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 16:45:07 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 16:45:07 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 16:45:07 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 16:45:07 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 16:45:07 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 16:45:07 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 16:45:07 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 16:45:08 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 16:45:08 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 16:45:08 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:45:09 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:45:09 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 16:45:09 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 16:45:09 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 16:45:09 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 16:45:09 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 16:45:09 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 16:45:10 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 16:45:10 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 16:45:10 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 16:45:10 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 16:45:10 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:45:10 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:45:10 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 16:45:10 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 16:45:05 CET 2016]; root of context hierarchy
2016-12-18 16:45:10 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5167 ms
2016-12-18 16:45:10 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 16:45:10 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:45:10 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:45:10 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:45:10 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 44 ms
2016-12-18 16:53:21 INFO  AuthController:81 - request: GET /logout
2016-12-18 16:53:35 INFO  AuthController:81 - request: GET /logout
2016-12-18 16:53:42 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 16:53:42 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 16:53:50 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 16:53:55 INFO  AuthController:81 - request: GET /logout
2016-12-18 16:54:38 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:45:10 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:54:38 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 16:45:05 CET 2016]; root of context hierarchy
2016-12-18 16:54:38 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 16:54:38 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:54:38 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:55:00 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 16:55:00 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 16:55:00 CET 2016]; root of context hierarchy
2016-12-18 16:55:00 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 16:55:01 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 16:55:01 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:55:01 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 16:55:01 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 16:55:01 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 16:55:02 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 16:55:02 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 16:55:02 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 16:55:02 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 16:55:02 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 16:55:02 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 16:55:02 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 16:55:03 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:55:04 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 16:55:04 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 16:55:04 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 16:55:04 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 16:55:04 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 16:55:04 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 16:55:04 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 16:55:04 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 16:55:05 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 16:55:05 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 16:55:05 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 16:55:05 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 16:55:05 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 16:55:05 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 16:55:05 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 16:55:00 CET 2016]; root of context hierarchy
2016-12-18 16:55:05 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5071 ms
2016-12-18 16:55:05 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 16:55:05 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:55:05 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:55:05 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 16:55:05 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 31 ms
2016-12-18 16:56:02 INFO  AuthController:81 - request: GET /logout
2016-12-18 16:56:02 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 16:56:16 INFO  AuthController:55 - requset: POST /auth/login
2016-12-18 16:56:16 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-18 16:57:37 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 16:55:05 CET 2016]; parent: Root WebApplicationContext
2016-12-18 16:57:37 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 16:55:00 CET 2016]; root of context hierarchy
2016-12-18 16:57:37 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 16:57:37 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 16:57:37 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 17:22:31 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 17:22:31 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 17:22:31 CET 2016]; root of context hierarchy
2016-12-18 17:22:31 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 17:22:31 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 17:22:32 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 17:22:32 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 17:22:32 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 17:22:32 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 17:22:32 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 17:22:32 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 17:22:32 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 17:22:33 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 17:22:33 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 17:22:33 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 17:22:33 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 17:22:34 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 17:22:34 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 17:22:34 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 17:22:34 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 17:22:34 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 17:22:34 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 17:22:34 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 17:22:34 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 17:22:35 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 17:22:35 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 17:22:35 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 17:22:35 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 17:22:35 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:22:35 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:22:35 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 17:22:35 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 17:22:31 CET 2016]; root of context hierarchy
2016-12-18 17:22:35 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4706 ms
2016-12-18 17:22:35 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 17:22:35 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 17:22:35 CET 2016]; parent: Root WebApplicationContext
2016-12-18 17:22:35 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 17:22:35 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 55 ms
2016-12-18 17:23:38 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 17:23:47 INFO  AuthController:55 - requset: POST /auth/login
2016-12-18 17:23:48 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-18 17:23:58 INFO  TripController:57 - request: GET /trip/list
2016-12-18 17:24:06 INFO  ReservationController:129 - request: GET reservation/create/1
2016-12-18 17:24:12 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-18 17:24:16 INFO  ExcursionController:60 - request: GET /excursion/detai/2
2016-12-18 17:26:38 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-18 17:26:41 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:26:45 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:26:51 INFO  ReservationController:92 - request: GET reservation/detail/2
2016-12-18 17:26:54 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:26:56 INFO  AuthController:81 - request: GET /logout
2016-12-18 17:26:56 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 17:27:02 INFO  AuthController:55 - requset: POST /auth/login
2016-12-18 17:27:02 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-18 17:27:17 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:20 INFO  UserController:93 - request: GET /user/changeRole/2
2016-12-18 17:27:20 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:25 INFO  UserController:93 - request: GET /user/changeRole/3
2016-12-18 17:27:25 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:27 INFO  UserController:93 - request: GET /user/changeRole/4
2016-12-18 17:27:27 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:28 INFO  AuthController:81 - request: GET /logout
2016-12-18 17:27:28 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 17:27:34 INFO  AuthController:55 - requset: POST /auth/login
2016-12-18 17:27:34 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-18 17:27:36 INFO  UserController:70 - request: GET /user/detail/3
2016-12-18 17:27:40 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:44 INFO  UserController:93 - request: GET /user/changeRole/2
2016-12-18 17:27:44 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:46 INFO  UserController:93 - request: GET /user/changeRole/1
2016-12-18 17:27:46 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:47 INFO  UserController:93 - request: GET /user/changeRole/4
2016-12-18 17:27:47 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:53 INFO  UserController:93 - request: GET /user/changeRole/2
2016-12-18 17:27:53 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:57 INFO  UserController:93 - request: GET /user/changeRole/2
2016-12-18 17:27:57 INFO  UserController:50 - request: GET /user/list
2016-12-18 17:27:59 INFO  TripController:57 - request: GET /trip/list
2016-12-18 17:28:01 INFO  TripController:66 - request: GET /excursion/detai/2
2016-12-18 17:28:09 INFO  ExcursionController:60 - request: GET /excursion/detai/3
2016-12-18 17:28:12 INFO  TripController:57 - request: GET /trip/list
2016-12-18 17:28:14 INFO  TripController:66 - request: GET /excursion/detai/2
2016-12-18 17:28:19 INFO  ReservationController:129 - request: GET reservation/create/2
2016-12-18 17:28:21 INFO  ReservationController:175 - request: POST /reservation/create/2
2016-12-18 17:28:21 INFO  ReservationController:92 - request: GET reservation/detail/4
2016-12-18 17:28:23 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:28:33 INFO  ReservationController:229 - request: /reservation/delete/1
2016-12-18 17:28:33 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:30:57 WARN  PageNotFound:1136 - No mapping found for HTTP request with URI [/pa165/reservation/list/a] in DispatcherServlet with name 'dispatcher'
2016-12-18 17:31:23 INFO  TripController:57 - request: GET /trip/list
2016-12-18 17:40:37 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 17:22:35 CET 2016]; parent: Root WebApplicationContext
2016-12-18 17:40:37 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 17:22:31 CET 2016]; root of context hierarchy
2016-12-18 17:40:37 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 17:40:37 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 17:40:37 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 17:51:23 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-18 17:51:23 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Sun Dec 18 17:51:23 CET 2016]; root of context hierarchy
2016-12-18 17:51:23 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-18 17:51:24 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-18 17:51:24 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 17:51:24 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-18 17:51:25 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-18 17:51:25 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-18 17:51:25 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-18 17:51:25 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-18 17:51:25 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-18 17:51:25 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-18 17:51:25 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-18 17:51:26 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-18 17:51:26 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-18 17:51:26 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 17:51:27 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-18 17:51:27 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-18 17:51:27 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-18 17:51:27 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-18 17:51:27 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-18 17:51:27 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-18 17:51:27 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-18 17:51:28 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-18 17:51:28 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-18 17:51:28 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-18 17:51:28 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-18 17:51:28 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-18 17:51:29 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Sun Dec 18 17:51:23 CET 2016]; root of context hierarchy
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-18 17:51:29 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-18 17:51:29 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-18 17:51:29 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5545 ms
2016-12-18 17:51:29 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-18 17:51:29 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 17:51:29 CET 2016]; parent: Root WebApplicationContext
2016-12-18 17:51:29 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-18 17:51:29 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 33 ms
2016-12-18 17:51:52 INFO  AuthController:38 - request: GET /auth/login
2016-12-18 17:51:59 INFO  AuthController:55 - requset: POST /auth/login
2016-12-18 17:51:59 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-18 17:52:04 WARN  PageNotFound:1136 - No mapping found for HTTP request with URI [/pa165/reservation] in DispatcherServlet with name 'dispatcher'
2016-12-18 17:52:08 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:52:26 WARN  PageNotFound:198 - Request method 'GET' not supported
2016-12-18 17:52:41 INFO  TripController:113 - request: GET /trip/edit/1
2016-12-18 17:52:41 INFO  TripController:56 - request: GET /trip/list
2016-12-18 17:52:52 WARN  PageNotFound:198 - Request method 'GET' not supported
2016-12-18 17:54:39 INFO  ReservationController:229 - request: GET /reservation/delete/1
2016-12-18 17:54:39 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:54:51 INFO  ReservationController:229 - request: GET /reservation/delete/2
2016-12-18 17:54:51 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:55:29 INFO  ReservationController:92 - request: GET reservation/detail/1
2016-12-18 17:55:29 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:55:33 INFO  TripController:56 - request: GET /trip/list
2016-12-18 17:55:34 INFO  ReservationController:129 - request: GET reservation/create/2
2016-12-18 17:55:38 INFO  ReservationController:175 - request: POST /reservation/create/2
2016-12-18 17:55:38 INFO  ReservationController:92 - request: GET reservation/detail/4
2016-12-18 17:55:43 INFO  ReservationController:229 - request: GET /reservation/delete/4
2016-12-18 17:55:43 INFO  ReservationController:56 - request: GET resrvation/list; user id=3
2016-12-18 17:55:44 INFO  TripController:56 - request: GET /trip/list
2016-12-18 17:55:45 INFO  ReservationController:129 - request: GET reservation/create/3
2016-12-18 17:55:47 INFO  ReservationController:175 - request: POST /reservation/create/3
2016-12-18 17:55:47 INFO  ReservationController:92 - request: GET reservation/detail/5
2016-12-18 17:57:13 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Sun Dec 18 17:51:29 CET 2016]; parent: Root WebApplicationContext
2016-12-18 17:57:13 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Sun Dec 18 17:51:23 CET 2016]; root of context hierarchy
2016-12-18 17:57:13 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-18 17:57:13 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-18 17:57:13 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-23 15:58:23 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-23 15:58:23 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 23 15:58:23 CET 2016]; root of context hierarchy
2016-12-23 15:58:23 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-23 15:58:24 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-23 15:58:24 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-23 15:58:25 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-23 15:58:25 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-23 15:58:25 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-23 15:58:25 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-23 15:58:25 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-23 15:58:25 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-23 15:58:26 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-23 15:58:26 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-23 15:58:26 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-23 15:58:26 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-23 15:58:27 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-23 15:58:27 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-23 15:58:27 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-23 15:58:27 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-23 15:58:27 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-23 15:58:27 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-23 15:58:27 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-23 15:58:27 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-23 15:58:28 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-23 15:58:28 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-23 15:58:28 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-23 15:58:28 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-23 15:58:28 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-23 15:58:28 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-23 15:58:28 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-23 15:58:28 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 23 15:58:23 CET 2016]; root of context hierarchy
2016-12-23 15:58:28 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5156 ms
2016-12-23 15:58:28 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-23 15:58:28 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 23 15:58:28 CET 2016]; parent: Root WebApplicationContext
2016-12-23 15:58:28 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-23 15:58:29 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 39 ms
2016-12-23 15:58:38 WARN  PageNotFound:1136 - No mapping found for HTTP request with URI [/pa165/rest] in DispatcherServlet with name 'dispatcher'
2016-12-23 15:58:48 INFO  AuthController:38 - request: GET /auth/login
2016-12-23 15:58:55 INFO  AuthController:55 - requset: POST /auth/login
2016-12-23 15:58:55 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-23 15:58:59 WARN  PageNotFound:1136 - No mapping found for HTTP request with URI [/pa165/rest] in DispatcherServlet with name 'dispatcher'
2016-12-23 16:00:16 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 23 15:58:28 CET 2016]; parent: Root WebApplicationContext
2016-12-23 16:00:16 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 23 15:58:23 CET 2016]; root of context hierarchy
2016-12-23 16:00:16 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-23 16:00:16 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-23 16:00:16 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 18:17:26 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-29 18:17:26 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Thu Dec 29 18:17:26 CET 2016]; root of context hierarchy
2016-12-29 18:17:26 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-29 18:17:26 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-29 18:17:26 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 18:17:27 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-29 18:17:27 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-29 18:17:27 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-29 18:17:27 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-29 18:17:27 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-29 18:17:27 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-29 18:17:28 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-29 18:17:28 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-29 18:17:28 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-29 18:17:28 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-29 18:17:29 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 18:17:29 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 18:17:29 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-29 18:17:29 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-29 18:17:29 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-29 18:17:29 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-29 18:17:29 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-29 18:17:29 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-29 18:17:30 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-29 18:17:30 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-29 18:17:30 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-29 18:17:30 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-29 18:17:30 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:17:31 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:17:31 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-29 18:17:31 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Thu Dec 29 18:17:26 CET 2016]; root of context hierarchy
2016-12-29 18:17:31 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5530 ms
2016-12-29 18:17:31 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-29 18:17:31 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 18:17:31 CET 2016]; parent: Root WebApplicationContext
2016-12-29 18:17:31 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 18:17:31 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 33 ms
2016-12-29 18:17:51 INFO  AuthController:38 - request: GET /auth/login
2016-12-29 18:18:03 INFO  AuthController:55 - requset: POST /auth/login
2016-12-29 18:18:04 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-29 18:18:16 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:18:22 INFO  ExcursionController:152 - request: GET /excursion/new/
2016-12-29 18:19:27 INFO  ExcursionController:164 - request: POST /excursion/create/
2016-12-29 18:19:27 ERROR ExcursionController:174 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion in past.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:92)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:168)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-29 18:19:27 INFO  ExcursionController:152 - request: GET /excursion/new/
2016-12-29 18:19:39 INFO  TripController:56 - request: GET /trip/list
2016-12-29 18:20:25 INFO  ExcursionController:164 - request: POST /excursion/create/
2016-12-29 18:20:25 INFO  ExcursionController:60 - request: GET /excursion/detai/9
2016-12-29 18:20:40 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:29:20 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 18:17:31 CET 2016]; parent: Root WebApplicationContext
2016-12-29 18:29:20 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Thu Dec 29 18:17:26 CET 2016]; root of context hierarchy
2016-12-29 18:29:20 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-29 18:29:21 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 18:29:21 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 18:29:51 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-29 18:29:51 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Thu Dec 29 18:29:51 CET 2016]; root of context hierarchy
2016-12-29 18:29:51 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-29 18:29:51 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-29 18:29:52 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 18:29:52 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-29 18:29:52 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-29 18:29:52 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-29 18:29:52 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-29 18:29:52 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-29 18:29:52 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-29 18:29:53 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-29 18:29:53 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-29 18:29:53 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-29 18:29:53 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-29 18:29:54 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 18:29:54 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 18:29:54 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-29 18:29:54 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-29 18:29:54 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-29 18:29:54 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-29 18:29:54 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-29 18:29:54 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-29 18:29:55 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-29 18:29:55 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-29 18:29:55 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-29 18:29:55 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-29 18:29:55 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 18:29:56 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 18:29:56 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-29 18:29:56 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Thu Dec 29 18:29:51 CET 2016]; root of context hierarchy
2016-12-29 18:29:56 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5242 ms
2016-12-29 18:29:56 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-29 18:29:56 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 18:29:56 CET 2016]; parent: Root WebApplicationContext
2016-12-29 18:29:56 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 18:29:56 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 32 ms
2016-12-29 18:30:04 INFO  AuthController:38 - request: GET /auth/login
2016-12-29 18:30:10 INFO  AuthController:55 - requset: POST /auth/login
2016-12-29 18:30:10 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-29 18:30:15 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:30:18 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:31:21 INFO  AuthController:81 - request: GET /logout
2016-12-29 18:31:21 INFO  AuthController:38 - request: GET /auth/login
2016-12-29 18:31:27 INFO  AuthController:55 - requset: POST /auth/login
2016-12-29 18:31:27 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-29 18:31:33 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:31:35 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:46:16 INFO  AuthController:81 - request: GET /logout
2016-12-29 18:46:16 INFO  AuthController:38 - request: GET /auth/login
2016-12-29 18:46:22 INFO  AuthController:55 - requset: POST /auth/login
2016-12-29 18:46:22 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-29 18:46:27 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 18:46:28 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:46:44 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:46:58 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:48:31 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:54:05 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:57:00 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:57:35 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:58:11 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:58:39 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:58:55 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-29 18:59:03 INFO  TripController:56 - request: GET /trip/list
2016-12-29 19:00:20 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 19:00:24 INFO  ExcursionController:60 - request: GET /excursion/detai/1
2016-12-29 19:00:28 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 19:00:30 INFO  ExcursionController:98 - request: GET /edit/1
2016-12-29 19:01:55 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 19:01:57 INFO  ExcursionController:98 - request: GET /edit/2
2016-12-29 19:02:30 INFO  ExcursionController:98 - request: GET /edit/2
2016-12-29 19:03:53 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-29 19:05:11 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-29 19:09:55 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 18:29:56 CET 2016]; parent: Root WebApplicationContext
2016-12-29 19:09:55 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Thu Dec 29 18:29:51 CET 2016]; root of context hierarchy
2016-12-29 19:09:55 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-29 19:09:55 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 19:09:55 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 19:10:21 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-29 19:10:21 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Thu Dec 29 19:10:21 CET 2016]; root of context hierarchy
2016-12-29 19:10:21 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-29 19:10:22 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-29 19:10:22 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 19:10:22 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-29 19:10:22 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-29 19:10:22 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-29 19:10:22 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-29 19:10:22 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-29 19:10:22 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-29 19:10:23 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-29 19:10:23 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-29 19:10:23 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-29 19:10:23 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-29 19:10:24 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 19:10:24 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-29 19:10:24 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-29 19:10:24 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-29 19:10:24 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-29 19:10:24 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-29 19:10:24 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-29 19:10:24 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-29 19:10:25 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-29 19:10:25 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-29 19:10:25 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-29 19:10:25 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-29 19:10:25 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-29 19:10:25 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-29 19:10:25 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-29 19:10:25 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Thu Dec 29 19:10:21 CET 2016]; root of context hierarchy
2016-12-29 19:10:25 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4281 ms
2016-12-29 19:10:25 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-29 19:10:25 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 19:10:25 CET 2016]; parent: Root WebApplicationContext
2016-12-29 19:10:25 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-29 19:10:25 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 29 ms
2016-12-29 19:10:42 INFO  AuthController:38 - request: GET /auth/login
2016-12-29 19:10:48 INFO  AuthController:55 - requset: POST /auth/login
2016-12-29 19:10:49 INFO  AuthController:71 - request: POST /auth/login; user with id 3 has been logged in
2016-12-29 19:10:52 INFO  TripController:56 - request: GET /trip/list
2016-12-29 19:10:56 INFO  TripController:166 - request: GET /trip/new/
2016-12-29 19:10:56 INFO  TripController:56 - request: GET /trip/list
2016-12-29 19:11:02 WARN  PageNotFound:198 - Request method 'GET' not supported
2016-12-29 19:11:13 WARN  PageNotFound:198 - Request method 'GET' not supported
2016-12-29 19:11:31 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-29 19:11:43 INFO  ExcursionController:60 - request: GET /excursion/detai/1
2016-12-29 19:12:03 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Thu Dec 29 19:10:25 CET 2016]; parent: Root WebApplicationContext
2016-12-29 19:12:04 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Thu Dec 29 19:10:21 CET 2016]; root of context hierarchy
2016-12-29 19:12:04 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-29 19:12:04 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-29 19:12:04 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 17:46:41 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 17:46:41 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 17:46:41 CET 2016]; root of context hierarchy
2016-12-30 17:46:41 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 17:46:41 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 17:46:42 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 17:46:42 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 17:46:43 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 17:46:43 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 17:46:43 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 17:46:43 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 17:46:43 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 17:46:44 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 17:46:44 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 17:46:44 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 17:46:44 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 17:46:45 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 17:46:45 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 17:46:45 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 17:46:45 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 17:46:45 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 17:46:45 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 17:46:45 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 17:46:45 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 17:46:46 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 17:46:46 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 17:46:46 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 17:46:46 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 17:46:46 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 17:46:47 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 17:46:47 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 17:46:47 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 17:46:41 CET 2016]; root of context hierarchy
2016-12-30 17:46:47 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 6506 ms
2016-12-30 17:46:47 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 17:46:47 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 17:46:47 CET 2016]; parent: Root WebApplicationContext
2016-12-30 17:46:47 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 17:46:47 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 26 ms
2016-12-30 17:46:51 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 17:47:01 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 17:47:01 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 17:47:04 INFO  TripController:56 - request: GET /trip/list
2016-12-30 17:47:05 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 17:48:27 INFO  TripController:180 - request: POST /trip/create/
2016-12-30 17:48:27 INFO  TripController:65 - request: GET /excursion/detai/5
2016-12-30 18:11:45 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:11:46 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:12:20 INFO  TripController:180 - request: POST /trip/create/
2016-12-30 18:12:20 ERROR TripController:199 - request: POST /trip/create/
java.lang.IllegalArgumentException: Starting date is after ending date of trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.validate(TripDaoImpl.java:109)
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.create(TripDaoImpl.java:127)
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.create(TripDaoImpl.java:19)
	at cz.muni.fi.pa165.travelagency.service.TripServiceImpl.create(TripServiceImpl.java:37)
	at cz.muni.fi.pa165.travelagency.service.facade.TripFacadeImpl.create(TripFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.TripController.create(TripController.java:189)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 18:12:21 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:13:49 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 17:46:47 CET 2016]; parent: Root WebApplicationContext
2016-12-30 18:13:49 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 17:46:41 CET 2016]; root of context hierarchy
2016-12-30 18:13:49 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 18:13:49 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 18:13:49 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 18:14:11 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 18:14:11 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 18:14:11 CET 2016]; root of context hierarchy
2016-12-30 18:14:11 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 18:14:12 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 18:14:12 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 18:14:12 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 18:14:13 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 18:14:13 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 18:14:13 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 18:14:13 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 18:14:13 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 18:14:13 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 18:14:13 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 18:14:13 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 18:14:13 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 18:14:14 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 18:14:14 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 18:14:14 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 18:14:14 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 18:14:14 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 18:14:14 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 18:14:14 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 18:14:14 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 18:14:15 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 18:14:15 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 18:14:15 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 18:14:15 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 18:14:15 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 18:14:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 18:14:16 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 18:14:16 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 18:14:11 CET 2016]; root of context hierarchy
2016-12-30 18:14:16 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4954 ms
2016-12-30 18:14:16 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 18:14:16 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 18:14:16 CET 2016]; parent: Root WebApplicationContext
2016-12-30 18:14:16 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 18:14:16 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 36 ms
2016-12-30 18:14:19 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 18:14:27 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 18:14:27 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 18:14:30 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:14:32 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:14:48 INFO  TripController:180 - request: POST /trip/create/
2016-12-30 18:14:48 ERROR TripController:199 - request: POST /trip/create/
java.lang.IllegalArgumentException: Starting date is after ending date of trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.validate(TripDaoImpl.java:109)
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.create(TripDaoImpl.java:127)
	at cz.muni.fi.pa165.travelagency.persistence.dao.TripDaoImpl.create(TripDaoImpl.java:19)
	at cz.muni.fi.pa165.travelagency.service.TripServiceImpl.create(TripServiceImpl.java:37)
	at cz.muni.fi.pa165.travelagency.service.facade.TripFacadeImpl.create(TripFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.TripController.create(TripController.java:189)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 18:14:48 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:17:53 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:18:09 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:18:12 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:27:56 INFO  TripController:180 - request: POST /trip/create/
2016-12-30 18:27:56 INFO  TripController:65 - request: GET /excursion/detail/5
2016-12-30 18:29:37 INFO  TripController:113 - request: GET /trip/edit/5
2016-12-30 18:30:26 INFO  TripController:134 - request: POST /trip/update/5
2016-12-30 18:30:26 INFO  TripController:65 - request: GET /excursion/detail/5
2016-12-30 18:30:32 INFO  TripController:113 - request: GET /trip/edit/5
2016-12-30 18:30:35 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:30:36 INFO  TripController:166 - request: GET /trip/new/
2016-12-30 18:35:26 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-30 18:35:30 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:35:32 INFO  TripController:83 - request: POST /trip/delete/2
2016-12-30 18:35:32 WARN  SqlExceptionHelper:144 - SQL Error: 23503, SQLState: 23503
2016-12-30 18:35:32 ERROR SqlExceptionHelper:146 - Referential integrity constraint violation: "FK_ERSN1WFWI1IQR9BB078Q5K9UH: PUBLIC.RESERVATION_EXCURSION FOREIGN KEY(EXCURSIONSET_ID) REFERENCES PUBLIC.EXCURSION(ID) (4)"; SQL statement:
delete from Excursion where id=? [23503-190]
2016-12-30 18:35:32 INFO  AbstractBatchImpl:208 - HHH000010: On release of batch it still contained JDBC statements
2016-12-30 18:35:32 ERROR TripController:102 - request: POST /trip/delete/2
2016-12-30 18:35:32 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:36:18 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-30 18:36:20 INFO  ReservationController:229 - request: GET /reservation/delete/3
2016-12-30 18:36:20 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-30 18:36:23 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:36:25 INFO  TripController:83 - request: POST /trip/delete/2
2016-12-30 18:36:25 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:36:29 INFO  TripController:83 - request: POST /trip/delete/1
2016-12-30 18:36:29 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:36:30 INFO  TripController:83 - request: POST /trip/delete/3
2016-12-30 18:36:30 WARN  SqlExceptionHelper:144 - SQL Error: 23503, SQLState: 23503
2016-12-30 18:36:30 ERROR SqlExceptionHelper:146 - Referential integrity constraint violation: "FK_ERSN1WFWI1IQR9BB078Q5K9UH: PUBLIC.RESERVATION_EXCURSION FOREIGN KEY(EXCURSIONSET_ID) REFERENCES PUBLIC.EXCURSION(ID) (7)"; SQL statement:
delete from Excursion where id=? [23503-190]
2016-12-30 18:36:30 INFO  AbstractBatchImpl:208 - HHH000010: On release of batch it still contained JDBC statements
2016-12-30 18:36:30 ERROR TripController:102 - request: POST /trip/delete/3
2016-12-30 18:36:30 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:36:59 INFO  ReservationController:129 - request: GET reservation/create/3
2016-12-30 18:37:12 INFO  ReservationController:175 - request: POST /reservation/create/3
2016-12-30 18:37:12 INFO  ReservationController:92 - request: GET reservation/detail/4
2016-12-30 18:37:36 INFO  UserController:50 - request: GET /user/list
2016-12-30 18:37:40 INFO  UserController:93 - request: GET /user/changeRole/2
2016-12-30 18:37:40 INFO  UserController:50 - request: GET /user/list
2016-12-30 18:37:42 INFO  UserController:70 - request: GET /user/detail/1
2016-12-30 18:38:03 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:38:08 INFO  TripController:83 - request: POST /trip/delete/3
2016-12-30 18:38:08 WARN  SqlExceptionHelper:144 - SQL Error: 23503, SQLState: 23503
2016-12-30 18:38:08 ERROR SqlExceptionHelper:146 - Referential integrity constraint violation: "FK_ERSN1WFWI1IQR9BB078Q5K9UH: PUBLIC.RESERVATION_EXCURSION FOREIGN KEY(EXCURSIONSET_ID) REFERENCES PUBLIC.EXCURSION(ID) (7)"; SQL statement:
delete from Excursion where id=? [23503-190]
2016-12-30 18:38:08 INFO  AbstractBatchImpl:208 - HHH000010: On release of batch it still contained JDBC statements
2016-12-30 18:38:08 ERROR TripController:102 - request: POST /trip/delete/3
2016-12-30 18:38:08 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:38:09 INFO  TripController:83 - request: POST /trip/delete/4
2016-12-30 18:38:09 WARN  SqlExceptionHelper:144 - SQL Error: 23503, SQLState: 23503
2016-12-30 18:38:09 ERROR SqlExceptionHelper:146 - Referential integrity constraint violation: "FK_KETTEU8UJ8E50LS6OCDE9MHI9: PUBLIC.RESERVATION FOREIGN KEY(TRIP_ID) REFERENCES PUBLIC.TRIP(ID) (4)"; SQL statement:
delete from Trip where id=? [23503-190]
2016-12-30 18:38:09 INFO  AbstractBatchImpl:208 - HHH000010: On release of batch it still contained JDBC statements
2016-12-30 18:38:09 ERROR TripController:102 - request: POST /trip/delete/4
2016-12-30 18:38:09 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:38:14 INFO  TripController:83 - request: POST /trip/delete/5
2016-12-30 18:38:14 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:38:16 INFO  TripController:83 - request: POST /trip/delete/4
2016-12-30 18:38:16 WARN  SqlExceptionHelper:144 - SQL Error: 23503, SQLState: 23503
2016-12-30 18:38:16 ERROR SqlExceptionHelper:146 - Referential integrity constraint violation: "FK_KETTEU8UJ8E50LS6OCDE9MHI9: PUBLIC.RESERVATION FOREIGN KEY(TRIP_ID) REFERENCES PUBLIC.TRIP(ID) (4)"; SQL statement:
delete from Trip where id=? [23503-190]
2016-12-30 18:38:16 INFO  AbstractBatchImpl:208 - HHH000010: On release of batch it still contained JDBC statements
2016-12-30 18:38:16 ERROR TripController:102 - request: POST /trip/delete/4
2016-12-30 18:38:16 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:59:15 INFO  TripController:180 - request: POST /trip/create/
2016-12-30 18:59:15 INFO  TripController:65 - request: GET /excursion/detail/6
2016-12-30 18:59:18 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:59:22 INFO  ReservationController:129 - request: GET reservation/create/6
2016-12-30 18:59:24 INFO  ReservationController:175 - request: POST /reservation/create/6
2016-12-30 18:59:24 INFO  ReservationController:92 - request: GET reservation/detail/5
2016-12-30 18:59:28 INFO  ReservationController:56 - request: GET resrvation/list; user id=1
2016-12-30 18:59:33 INFO  TripController:56 - request: GET /trip/list
2016-12-30 18:59:35 INFO  ReservationController:129 - request: GET reservation/create/6
2016-12-30 18:59:35 INFO  TripController:56 - request: GET /trip/list
2016-12-30 19:13:32 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 18:14:16 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:13:32 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 18:14:11 CET 2016]; root of context hierarchy
2016-12-30 19:13:32 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:13:32 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:13:32 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:14:36 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:14:36 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:14:36 CET 2016]; root of context hierarchy
2016-12-30 19:14:36 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:14:36 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:14:37 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:14:37 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:14:37 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:14:37 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:14:38 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:14:38 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:14:38 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:14:38 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:14:38 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:14:38 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:14:38 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:14:39 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:14:39 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:14:39 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:14:39 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:14:39 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:14:39 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:14:39 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:14:39 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:14:40 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:14:40 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:14:40 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:14:40 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:14:40 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:14:41 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:14:41 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:14:41 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:14:36 CET 2016]; root of context hierarchy
2016-12-30 19:14:41 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4872 ms
2016-12-30 19:14:41 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:14:41 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:14:41 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:14:41 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:14:41 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 55 ms
2016-12-30 19:14:47 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:14:55 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:14:55 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:15:00 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:15:04 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-30 19:15:14 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:14:41 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:15:14 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:14:36 CET 2016]; root of context hierarchy
2016-12-30 19:15:14 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:15:14 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:15:14 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:18:50 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:18:50 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:18:50 CET 2016]; root of context hierarchy
2016-12-30 19:18:50 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:18:51 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:18:51 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:18:51 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:18:52 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:18:52 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:18:52 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:18:52 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:18:52 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:18:52 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:18:52 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:18:52 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:18:53 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:18:53 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:18:53 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:18:53 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:18:53 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:18:53 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:18:53 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:18:53 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:18:53 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:18:54 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:18:54 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:18:54 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:18:54 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:18:54 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:18:55 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:18:55 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:18:55 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:18:50 CET 2016]; root of context hierarchy
2016-12-30 19:18:55 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5479 ms
2016-12-30 19:18:56 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:18:56 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:18:56 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:18:56 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:18:56 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 47 ms
2016-12-30 19:19:06 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:19:18 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:19:18 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:21:18 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:21:21 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-30 19:21:53 INFO  ExcursionController:173 - request: POST /excursion/create/
2016-12-30 19:21:53 ERROR ExcursionController:183 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:21:53 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-30 19:23:40 INFO  ExcursionController:173 - request: POST /excursion/create/
2016-12-30 19:23:40 ERROR ExcursionController:183 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion in past.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:92)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:23:40 INFO  ExcursionController:161 - request: GET /excursion/new/
2016-12-30 19:30:11 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:18:56 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:30:12 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:18:50 CET 2016]; root of context hierarchy
2016-12-30 19:30:12 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:30:12 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:30:12 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:30:35 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:30:35 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:30:35 CET 2016]; root of context hierarchy
2016-12-30 19:30:35 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:30:36 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:30:36 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:30:36 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:30:36 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:30:36 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:30:36 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:30:36 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:30:36 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:30:37 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:30:37 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:30:37 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:30:37 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:30:38 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:30:38 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:30:38 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:30:38 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:30:38 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:30:38 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:30:38 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:30:38 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:30:40 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:30:40 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:30:40 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:30:40 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:30:40 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:30:40 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:30:40 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:30:41 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:30:35 CET 2016]; root of context hierarchy
2016-12-30 19:30:41 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5346 ms
2016-12-30 19:30:41 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:30:41 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:30:41 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:30:41 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:30:41 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 54 ms
2016-12-30 19:31:29 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:31:37 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:31:37 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:31:42 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:31:44 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:31:55 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:31:55 ERROR ExcursionController:185 - request: POST /update/{}
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:34:52 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:30:41 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:34:52 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:30:35 CET 2016]; root of context hierarchy
2016-12-30 19:34:52 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:34:52 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:34:52 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:35:02 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:35:02 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:35:02 CET 2016]; root of context hierarchy
2016-12-30 19:35:02 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:35:03 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:35:03 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:35:03 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:35:04 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:35:04 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:35:04 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:35:04 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:35:04 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:35:04 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:35:04 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:35:05 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:35:05 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:35:05 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:35:05 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:35:06 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:35:06 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:35:06 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:35:06 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:35:06 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:35:06 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:35:06 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:35:06 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:35:06 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:35:06 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:35:06 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:35:07 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:35:07 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:35:07 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:35:02 CET 2016]; root of context hierarchy
2016-12-30 19:35:07 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5103 ms
2016-12-30 19:35:08 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:35:08 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:35:08 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:35:08 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:35:08 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 45 ms
2016-12-30 19:35:13 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:35:19 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:35:20 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:35:22 INFO  TripController:56 - request: GET /trip/list
2016-12-30 19:35:25 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:35:26 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:35:49 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:35:49 INFO  ExcursionController:60 - request: GET /excursion/detai/9
2016-12-30 19:35:53 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:35:54 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:36:07 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:36:07 ERROR ExcursionController:185 - request: POST /update/{}
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:37:12 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:35:08 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:37:12 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:35:02 CET 2016]; root of context hierarchy
2016-12-30 19:37:12 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:37:12 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:37:12 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:37:23 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:37:23 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:37:23 CET 2016]; root of context hierarchy
2016-12-30 19:37:23 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:37:23 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:37:23 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:37:24 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:37:24 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:37:24 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:37:24 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:37:24 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:37:24 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:37:24 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:37:24 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:37:25 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:37:25 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:37:25 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:37:25 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:37:26 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:37:26 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:37:26 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:37:26 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:37:26 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:37:26 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:37:26 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:37:27 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:37:27 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:37:27 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:37:27 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:37:27 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:37:27 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:37:27 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:37:23 CET 2016]; root of context hierarchy
2016-12-30 19:37:27 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4652 ms
2016-12-30 19:37:27 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:37:27 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:37:27 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:37:27 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:37:27 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 38 ms
2016-12-30 19:37:32 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:37:40 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:37:40 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:37:53 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:37:55 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:38:05 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:38:05 ERROR ExcursionController:185 - request: POST /update/{}
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:38:05 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:38:51 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:37:27 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:38:51 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:37:23 CET 2016]; root of context hierarchy
2016-12-30 19:38:51 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:38:51 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:38:51 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:39:11 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:39:11 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:39:11 CET 2016]; root of context hierarchy
2016-12-30 19:39:11 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:39:12 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:39:12 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:39:12 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:39:12 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:39:13 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:39:13 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:39:13 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:39:13 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:39:13 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:39:13 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:39:13 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:39:13 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:39:14 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:39:14 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:39:14 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:39:15 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:39:15 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:39:15 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:39:15 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:39:15 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:39:15 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:39:15 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:39:16 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:39:16 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:39:16 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:39:16 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:39:16 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:39:16 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:39:11 CET 2016]; root of context hierarchy
2016-12-30 19:39:16 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4909 ms
2016-12-30 19:39:16 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:39:16 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:39:16 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:39:16 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:39:16 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 45 ms
2016-12-30 19:39:22 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:39:30 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:39:30 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:39:42 INFO  UserController:50 - request: GET /user/list
2016-12-30 19:43:00 INFO  AuthController:81 - request: GET /logout
2016-12-30 19:43:00 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:43:09 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:43:09 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:43:14 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:43:15 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:43:33 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:43:33 ERROR ExcursionController:185 - request: POST /update/{}
java.lang.IllegalArgumentException: Cannot create excursion in past.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:92)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:43:33 WARN  PageNotFound:198 - Request method 'GET' not supported
2016-12-30 19:43:58 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:39:16 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:43:58 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:39:11 CET 2016]; root of context hierarchy
2016-12-30 19:43:58 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 19:43:58 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:43:58 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:45:08 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 19:45:08 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 19:45:08 CET 2016]; root of context hierarchy
2016-12-30 19:45:08 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 19:45:08 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 19:45:09 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:45:09 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 19:45:09 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 19:45:09 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 19:45:09 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 19:45:09 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 19:45:09 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 19:45:09 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 19:45:10 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 19:45:10 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 19:45:10 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 19:45:11 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 19:45:11 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 19:45:11 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 19:45:11 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 19:45:11 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 19:45:11 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 19:45:11 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 19:45:11 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 19:45:12 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 19:45:12 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 19:45:12 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 19:45:12 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 19:45:12 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 19:45:13 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 19:45:13 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 19:45:13 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 19:45:08 CET 2016]; root of context hierarchy
2016-12-30 19:45:13 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 5232 ms
2016-12-30 19:45:13 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 19:45:13 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:45:13 CET 2016]; parent: Root WebApplicationContext
2016-12-30 19:45:13 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 19:45:13 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 50 ms
2016-12-30 19:46:14 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 19:46:19 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 19:46:20 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 19:46:23 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 19:46:24 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:46:41 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:46:41 ERROR ExcursionController:185 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion in past.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:92)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:46:41 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:52:24 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:52:24 ERROR ExcursionController:185 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion after trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:100)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:52:24 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:52:41 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:52:41 ERROR ExcursionController:185 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:52:41 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:53:16 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:54:11 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:56:04 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:56:04 ERROR ExcursionController:185 - request: POST /excursion/create/
java.lang.IllegalArgumentException: Cannot create excursion before trip.
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:96)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:183)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 19:56:04 INFO  ExcursionController:167 - request: GET /excursion/new/
2016-12-30 19:56:44 INFO  ExcursionController:179 - request: POST /excursion/create/
2016-12-30 19:56:44 INFO  ExcursionController:60 - request: GET /excursion/detai/9
2016-12-30 20:00:15 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 19:45:13 CET 2016]; parent: Root WebApplicationContext
2016-12-30 20:00:15 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 19:45:08 CET 2016]; root of context hierarchy
2016-12-30 20:00:15 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 20:00:15 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 20:00:15 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 20:03:05 INFO  ContextLoader:285 - Root WebApplicationContext: initialization started
2016-12-30 20:03:05 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing Root WebApplicationContext: startup date [Fri Dec 30 20:03:05 CET 2016]; root of context hierarchy
2016-12-30 20:03:05 INFO  AnnotationConfigWebApplicationContext:208 - Registering annotated classes: [class cz.muni.fi.pa165.travelagency.web.config.WebConfig]
2016-12-30 20:03:05 INFO  ConfigurationClassBeanDefinitionReader:299 - Skipping bean definition for [BeanMethod:name=idToTripConverter,declaringClass=cz.muni.fi.pa165.travelagency.web.config.WebConfig]: a definition for bean 'idToTripConverter' already exists. This top-level bean definition is considered as an override.
2016-12-30 20:03:05 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 20:03:06 INFO  EmbeddedDatabaseFactory:147 - Creating embedded database 'testdb'
2016-12-30 20:03:06 INFO  LocalContainerEntityManagerFactoryBean:339 - Building JPA container EntityManagerFactory for persistence unit 'default'
2016-12-30 20:03:06 INFO  LogHelper:46 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-12-30 20:03:06 INFO  Version:54 - HHH000412: Hibernate Core {4.3.11.Final}
2016-12-30 20:03:06 INFO  Environment:239 - HHH000206: hibernate.properties not found
2016-12-30 20:03:06 INFO  Environment:346 - HHH000021: Bytecode provider name : javassist
2016-12-30 20:03:06 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {4.0.5.Final}
2016-12-30 20:03:07 INFO  Dialect:145 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2016-12-30 20:03:07 INFO  ASTQueryTranslatorFactory:47 - HHH000397: Using ASTQueryTranslatorFactory
2016-12-30 20:03:07 INFO  Version:27 - HV000001: Hibernate Validator 5.1.3.Final
2016-12-30 20:03:08 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 20:03:08 INFO  SchemaExport:406 - HHH000230: Schema export complete
2016-12-30 20:03:08 INFO  GlobalSettings:113 - Trying to find Dozer configuration file: dozer.properties
2016-12-30 20:03:08 WARN  GlobalSettings:118 - Dozer configuration file not found: dozer.properties.  Using defaults for all Dozer global properties.
2016-12-30 20:03:08 INFO  DozerInitializer:70 - Initializing Dozer. Version: 5.4.0, Thread Name: localhost-startStop-1
2016-12-30 20:03:08 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerStatisticsController] auto registered with the Platform MBean Server
2016-12-30 20:03:08 INFO  JMXPlatformImpl:66 - Dozer JMX MBean [org.dozer.jmx:type=DozerAdminController] auto registered with the Platform MBean Server
2016-12-30 20:03:08 INFO  DozerBeanMapper:175 - Initializing a new instance of dozer bean mapper.
2016-12-30 20:03:09 INFO  SampleDataLoadingFacadeImpl:55 - Loaded users.
2016-12-30 20:03:09 INFO  SampleDataLoadingFacadeImpl:62 - Loaded trips.
2016-12-30 20:03:09 INFO  SampleDataLoadingFacadeImpl:73 - Loaded excursions.
2016-12-30 20:03:09 INFO  SampleDataLoadingFacadeImpl:84 - Prepared excursion sets.
2016-12-30 20:03:09 INFO  SampleDataLoadingFacadeImpl:90 - Loaded reservations.
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/logout],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.logout(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authForm(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/auth/login],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.AuthController.authenticate(java.lang.String,java.lang.String,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.listAll(org.springframework.ui.Model)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.newExcursion(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.ExcursionDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/excursion/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(cz.muni.fi.pa165.travelagency.facade.dto.ExcursionCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.listAll(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/reservation/create/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.ReservationController.create(java.lang.Long,cz.muni.fi.pa165.travelagency.web.converter.ListWrapper,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/new],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.newTrip(org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.TripDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/delete/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.delete(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/create],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.create(cz.muni.fi.pa165.travelagency.facade.dto.TripCreateDto,org.springframework.validation.BindingResult,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/trip/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.TripController.list(org.springframework.ui.Model)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/edit/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.edit(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletResponse,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/changeRole/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.changeRole(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/detail/{id}],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.detail(java.lang.Long,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/update/{id}],methods=[POST]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.update(java.lang.Long,cz.muni.fi.pa165.travelagency.facade.dto.UserDto,org.springframework.ui.Model,org.springframework.web.servlet.mvc.support.RedirectAttributes,javax.servlet.http.HttpServletRequest)
2016-12-30 20:03:09 INFO  RequestMappingHandlerMapping:217 - Mapped "{[/user/list],methods=[GET]}" onto public java.lang.String cz.muni.fi.pa165.travelagency.web.controller.UserController.list(org.springframework.ui.Model,javax.servlet.http.HttpServletRequest,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2016-12-30 20:03:09 INFO  SimpleUrlHandlerMapping:301 - Root mapping to handler of type [class org.springframework.web.servlet.mvc.ParameterizableViewController]
2016-12-30 20:03:09 INFO  RequestMappingHandlerAdapter:517 - Looking for @ControllerAdvice: Root WebApplicationContext: startup date [Fri Dec 30 20:03:05 CET 2016]; root of context hierarchy
2016-12-30 20:03:09 INFO  ContextLoader:325 - Root WebApplicationContext: initialization completed in 4639 ms
2016-12-30 20:03:09 INFO  DispatcherServlet:485 - FrameworkServlet 'dispatcher': initialization started
2016-12-30 20:03:09 INFO  AnnotationConfigWebApplicationContext:511 - Refreshing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 20:03:09 CET 2016]; parent: Root WebApplicationContext
2016-12-30 20:03:09 INFO  AutowiredAnnotationBeanPostProcessor:153 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2016-12-30 20:03:09 INFO  DispatcherServlet:504 - FrameworkServlet 'dispatcher': initialization completed in 32 ms
2016-12-30 20:03:13 INFO  AuthController:38 - request: GET /auth/login
2016-12-30 20:03:19 INFO  AuthController:55 - requset: POST /auth/login
2016-12-30 20:03:19 INFO  AuthController:71 - request: POST /auth/login; user with id 1 has been logged in
2016-12-30 20:03:30 INFO  ExcursionController:50 - request: GET /excursion/list
2016-12-30 20:03:32 INFO  ExcursionController:164 - request: GET /excursion/new/
2016-12-30 20:04:39 INFO  ExcursionController:176 - request: POST /excursion/create/
2016-12-30 20:04:40 ERROR ExcursionController:186 - request: POST /excursion/create/
javax.validation.ConstraintViolationException: Validation failed for classes [cz.muni.fi.pa165.travelagency.persistence.entity.Excursion] during persist time for groups [javax.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='may not be null', propertyPath=price, rootBeanClass=class cz.muni.fi.pa165.travelagency.persistence.entity.Excursion, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:160)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:214)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:92)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:492)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:197)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:181)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:216)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:334)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:289)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:195)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:126)
	at org.hibernate.jpa.event.internal.core.JpaPersistEventListener.saveWithGeneratedId(JpaPersistEventListener.java:84)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:206)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:149)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:75)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:811)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:784)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:789)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.persist(AbstractEntityManagerImpl.java:1181)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:291)
	at com.sun.proxy.$Proxy68.persist(Unknown Source)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:103)
	at cz.muni.fi.pa165.travelagency.persistence.dao.ExcursionDaoImpl.create(ExcursionDaoImpl.java:22)
	at cz.muni.fi.pa165.travelagency.service.ExcursionServiceImpl.create(ExcursionServiceImpl.java:27)
	at cz.muni.fi.pa165.travelagency.service.facade.ExcursionFacadeImpl.create(ExcursionFacadeImpl.java:36)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy74.create(Unknown Source)
	at cz.muni.fi.pa165.travelagency.web.controller.ExcursionController.create(ExcursionController.java:180)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:775)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:967)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:869)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:843)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at cz.muni.fi.pa165.travelagency.web.security.ProtectFilter.doFilter(ProtectFilter.java:30)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2016-12-30 20:04:40 INFO  ExcursionController:164 - request: GET /excursion/new/
2016-12-30 20:06:35 INFO  ExcursionController:164 - request: GET /excursion/new/
2016-12-30 20:07:14 INFO  ExcursionController:176 - request: POST /excursion/create/
2016-12-30 20:07:14 INFO  ExcursionController:60 - request: GET /excursion/detai/9
2016-12-30 20:12:01 INFO  AnnotationConfigWebApplicationContext:866 - Closing WebApplicationContext for namespace 'dispatcher-servlet': startup date [Fri Dec 30 20:03:09 CET 2016]; parent: Root WebApplicationContext
2016-12-30 20:12:01 INFO  AnnotationConfigWebApplicationContext:866 - Closing Root WebApplicationContext: startup date [Fri Dec 30 20:03:05 CET 2016]; root of context hierarchy
2016-12-30 20:12:01 INFO  LocalContainerEntityManagerFactoryBean:462 - Closing JPA EntityManagerFactory for persistence unit 'default'
2016-12-30 20:12:01 INFO  SchemaExport:344 - HHH000227: Running hbm2ddl schema export
2016-12-30 20:12:01 INFO  SchemaExport:406 - HHH000230: Schema export complete
